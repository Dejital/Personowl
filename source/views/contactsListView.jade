nav
  a(href="/") Home
  span &nbsp;Â» Contacts

h2 Contacts

h4(ng-bind='vm.errorMessage' ng-if='vm.errorMessage').error-message

form.pure-form(role='form', name='contactsFilterForm', ng-if='vm.contacts.length > 0', ng-submit='vm.selectTopContact()')
  fieldset
    input(id='filter', type='text', name='filter', ng-model='vm.contactQuery', placeholder='Type to filter contacts').contacts-list-filter

div(ng-show='!vm.isBusy')
  ul.contacts-list
    li(ng-repeat='contact in vm.contacts | filter:vm.contactQuery | orderContactsBy')
      a(ng-href='/contacts#/{{contact._id}}' ng-bind='contact.name || "[no name]"')
      span.contacts-tags(ng-if='contact.tags.length > 0')
        a(ng-repeat='tag in contact.tags' ng-bind='tag' ng-click='vm.filterByTag(tag)')
      span.contacts-actions
        a(ng-click='vm.checkInContact(contact)') check-in
        a(ng-click='vm.snoozeContact(contact)') snooze
      span(ng-bind='contact.lastContactMessage' ng-class='{expired: contact.expired}').contacts-date
      span.contacts-snooze
        a(ng-bind='contact.snoozedUntilMessage' ng-click='vm.removeSnooze(contact)')

  .tutorial(ng-if='vm.contacts.length === 0')
    strong Add a contact below to get started.
    p Use any name you want, like:
    ul
      li John Fante
      li Arturo and Camilla
      li New programmer at work

  br

  form.pure-form(role='form', ng-submit='vm.addContact()')
    fieldset
      input(id='name', type='text', name='name', ng-model='vm.newContact.name', placeholder='Contact name')
      button(type='submit', ng-disabled='vm.isAddingContact').pure-button.pure-button-primary Add

p(ng-show='vm.isBusy') Loading...
